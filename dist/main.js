!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(t);var o=function(e){if(e){var t=e.querySelectorAll("input");(t=(t=r(t)).filter((function(e){return"submit"!==e.getAttribute("type")&&"hidden"!==e.getAttribute("type")&&"card-type"!==e.getAttribute("name")&&"club-name"!==e.getAttribute("name")}))).forEach((function(e){e.checked=!1,e.value=""})),e.classList.contains("form-calc")&&(e.querySelectorAll("[name=card-type]")[0].checked=!0,e.querySelectorAll("[name=club-name]")[0].checked=!0)}};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"actionModal",value:function(){document.addEventListener("click",(function(e){var t=e.target;if(t.dataset.popup){var n=t.dataset.popup;document.querySelector(n).style.cssText="display: flex"}else if(t.closest("[data-popup]")){var r=t.closest("[data-popup]").dataset.popup;document.querySelector(r).style.cssText="display: flex"}(t.closest(".close-form")||t.matches(".overlay")||t.matches(".btn.close-btn"))&&(t.closest(".popup").style.cssText="",t.closest(".popup").querySelector(".form-content__wrap")&&t.closest(".popup").querySelector(".form-content__wrap").classList.remove("hidden"),t.closest(".popup").querySelector(".message-form")&&t.closest(".popup").querySelector(".message-form").remove(),t.closest(".popup").querySelector(".message-form")&&t.closest(".popup").querySelector(".message-form").remove(),o(t.closest(".popup").querySelector("form")))}))}}],(n=null)&&i(t.prototype,n),r&&i(t,r),e}(),c=function(){var e=document.getElementById("totop"),t=document.querySelector(".head-slider"),n=t.clientHeight;e.style.cssText="display: none",t.getBoundingClientRect().y<-n&&(e.style.cssText=""),document.addEventListener("scroll",(function(){t.getBoundingClientRect().y<-n?e.style.cssText="":e.style.cssText="display: none"})),e.addEventListener("click",(function(e){e.preventDefault(),window.scrollTo(pageXOffset,0)}))},s=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.querySelectorAll(".slide"),i=0,a=function(e,t,n){e[t]&&e[t].classList.remove(n)},c=function(e,t,n){e[t]&&e[t].classList.add(n)},s=function(){var t=document.createElement("div");t.classList.add("dots"),o.forEach((function(){var e=document.createElement("div");e.classList.add("dot"),e.classList.add("dot"),t.append(e)})),e.insertAdjacentElement("beforeend",t);var n=e.querySelectorAll(".dot");n&&n[0].classList.add("dot-active")},l=function(){var t=document.createElement("div");t.classList.add("arrows");var n=document.createElement("div");n.classList.add("arrow-left"),n.classList.add("arrow-item"),n.setAttribute("id","#arrow-left");var r=document.createElement("div");r.classList.add("arrow-right"),r.classList.add("arrow-item"),r.setAttribute("id","#arrow-right"),t.insertAdjacentElement("beforeend",n),t.insertAdjacentElement("beforeend",r),e.insertAdjacentElement("beforeend",t)},u=function(){var t=e.querySelectorAll(".dot");a(o,i,"active"),a(t,i,"dot-active"),++i>=o.length&&(i=0),c(o,i,"active"),c(t,i,"dot-active")};e.addEventListener("click",(function(t){t.preventDefault();var n=e.querySelectorAll(".dot"),r=t.target;r.matches(".arrow-right, .arrow-left, .dot")&&(a(o,i,"active"),a(n,i,"dot-active"),r.matches(".arrow-right")?i++:r.matches(".arrow-left")?i--:r.matches(".dot")&&n.forEach((function(e,t){e===r&&(i=t)})),i>=o.length&&(i=0),i<0&&(i=o.length-1),c(o,i,"active"),c(n,i,"dot-active"))})),e.addEventListener("mouseover",(function(e){(e.target.matches(".arrow-item")||e.target.matches(".dot"))&&f()})),e.addEventListener("mouseout",(function(e){(e.target.matches(".arrow-item")||e.target.matches(".dot"))&&d()}));var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;t=setInterval(u,e)},f=function(){clearInterval(t)};n&&s(),r&&l(),d(2500)};function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"actionMobMenu",value:function(){var e=document.querySelector(".popup-menu"),t=document.documentElement.clientWidth;window.addEventListener("resize",(function(){t=document.documentElement.clientWidth})),document.addEventListener("click",(function(n){if(t<768){var r=n.target;(r.parentNode.classList.contains("menu-button")||r.parentNode.classList.contains("close-menu-btn")||r.parentNode.classList.contains("scroll"))&&e.classList.toggle("show")}}))}},{key:"stickMenu",value:function(){var e=document.querySelector(".top-menu"),t=e.clientHeight,n=document.querySelector(".head-slider"),r=window.innerWidth;window.addEventListener("resize",(function(){r=window.innerWidth}));var o=function(){r<768?n.getBoundingClientRect().y<t?e.classList.add("fixed"):n.getBoundingClientRect().y>0&&e.classList.remove("fixed"):e.classList.remove("fixed")};o(),document.addEventListener("scroll",(function(){o()}))}}],(n=null)&&l(t.prototype,n),r&&l(t,r),e}(),d=function(){var e=document.getElementById("gift");document.addEventListener("click",(function(t){var n=t.target;n.parentNode.classList.contains("fixed-gift")&&(n.parentNode.style.cssText="display: none"),n.classList.contains("close-btn")&&n.closest("#gift")&&(e.style.cssText="")}))},f=function(){document.addEventListener("click",(function(e){var t=e.target,n=document.querySelector(".club-select"),r=document.querySelector(".club-select.opened");t.closest(".club-select")&&!t.closest("ul.show")?(n.classList.toggle("opened"),n.querySelector("ul").classList.toggle("show")):r&&!t.closest(".club-select.opened")&&(n.classList.toggle("opened"),r.querySelector("ul").classList.toggle("show"))}))};function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(t){var n=t.main,r=t.wrap,o=t.next,i=t.prev,a=t.position,c=void 0===a?2:a,s=t.slidesToShow,l=void 0===s?3:s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.main=document.querySelector(n),this.wrap=document.querySelector(r),this.slides=document.querySelector(r).children,this.next=document.querySelector(o),this.prev=document.querySelector(i),this.slidesToShow=l,this.options={position:c,widthSlide:Math.floor(100/this.slidesToShow)}}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.addClass(),this.addStyle(),this.prev&&this.next&&this.controlSlider()}},{key:"addClass",value:function(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");var e=!0,t=!1,n=void 0;try{for(var r,o=this.slides[Symbol.iterator]();!(e=(r=o.next()).done);e=!0)r.value.classList.add("glo-slider__item")}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"addStyle",value:function(){var e=document.createElement("style");e.id="sliderCarousel-style",e.textContent="\n            .glo-slider {overflow:hidden}\n            .glo-slider__wrap {display: flex; max-width: 100%; transition: transform .5s; will-change: transform;}\n            .glo-slider__item {flex: 0 0 ".concat(this.options.widthSlide,"%!important;margin: auto 0!important;}\n        "),document.head.appendChild(e)}},{key:"prevSlider",value:function(){this.removeBeforeFirstElem()}},{key:"removeBeforeFirstElem",value:function(){this.wrap.insertBefore(this.slides[this.slides.length-1],this.slides[0])}},{key:"removeAfterLastElem",value:function(){this.wrap.appendChild(this.slides[0])}},{key:"nextSlider",value:function(){this.removeAfterLastElem()}},{key:"controlSlider",value:function(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}}])&&v(t.prototype,n),r&&v(t,r),e}();var p=function(e){e.addEventListener("input",(function(t){e.value=e.value.replace(/[a-zA-Z0-9\`\~\=\@\#\$\%\^\&\*\(\)\\\/\-\+\.\,\№\;\:\_\!\"\'\?\<\>]/g,"")}))};function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mozaika:{1:1999,6:9900,9:13900,12:19900},schelkovo:{1:2999,6:14990,9:21990,12:24990}};h(this,e),this.data=t}var t,n,r;return t=e,(n=[{key:"changeCalc",value:function(e,t,n,r){var o=this;t.addEventListener("change",(function(t){var i=t.target,a=!1,c=document.querySelector(".promo-code").value;i.matches('[name="club-name"]')?n=i.value:i.matches('[name="card-type"]')&&(r=i.value),"ТЕЛО2020"===c&&(a=!0),o.setPrice(e,n,r,a)}))}},{key:"setPrice",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=document.getElementById("price-total"),i=+e[t][n];o.textContent=r?Math.floor(i-.3*i):i}},{key:"initCalc",value:function(){var e=document.querySelector('[name="club-name"]:checked').value,t=document.querySelector('[name="card-type"]:checked').value,n=document.getElementById("card_order");document.querySelector(".form-calc")&&(this.setPrice(this.data,e,t),this.changeCalc(this.data,n,e,t))}}])&&y(t.prototype,n),r&&y(t,r),e}(),w=function(e){var t=document.getElementById("thanks"),n=document.getElementById("toast"),r=new g,i=document.createElement("div");i.classList.add("message-form");var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"foo";n.textContent=e,n.classList.remove("error"),n.classList.add("show"),t&&n.classList.add(t),setTimeout((function(){n.classList.remove("show")}),1500)};e.addEventListener("submit",(function(s){if(s.preventDefault(),e.appendChild(i),function(e){var t=e.querySelector("[type=checkbox]"),n=e.querySelectorAll("[type=radio]"),r=0;return t&&!t.checked?(a("Необходимо принять соглашение","error"),!1):!(n.length>0)||(n.forEach((function(e){e.checked&&r++})),!!r||(a("Необходимо выбрать клуб","error"),!1))}(e)){var l=new FormData(e),u={};l.forEach((function(e,t){u[t]=e})),c(u,(function(){e.closest(".popup")?(n.classList.remove("show"),e.querySelector(".form-content__wrap").classList.add("hidden"),i.textContent="Спасибо, мы скоро свяжемся с вами!",o(e)):(n.classList.remove("show"),i.textContent="",t.style.cssText="display: block",o(e),e.matches(".form-calc")&&r.initCalc())}),(function(n){e.closest(".popup")?a("Что-то пошло не так...","error"):(i.textContent="Что-то пошло не так...",t.querySelector(".form-content").insertBefore(i,t.querySelector(".form-content__wrap")),t.querySelector(".form-content__wrap").classList.add("hidden"),t.style.cssText="display: block"),console.error(n)}))}}));var c=function(e,t,n){var r=new XMLHttpRequest;r.addEventListener("readystatechange",(function(){4===r.readyState?200===r.status?t():n(r.status):a("Отправляется...")})),r.open("POST","/server.php"),r.setRequestHeader("Content-Type","application/json"),r.send(JSON.stringify(e))}};document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".main-slider"),t=document.getElementById("gallery").querySelector(".gallery-slider"),n=document.querySelectorAll("[type=tel]"),r=document.querySelectorAll("[type=text]"),o=document.querySelectorAll("form");a.actionModal(),c(),s(e),s(t,!0,!0),u.actionMobMenu(),u.stickMenu(),d(),f(),(new g).initCalc(),new m({main:".services-slider",wrap:".services-slider__wrap",prev:"#slide-left",next:"#slide-right",slidesToShow:5}).init(),n.forEach((function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__";function n(e){var n=e.keyCode,r=t,o=r.replace(/\D/g,""),i=this.value.replace(/\D/g,""),a=0,c=r.replace(/[_\d]/g,(function(e){return a<i.length?i.charAt(a++)||o.charAt(a):e}));-1!=(a=c.indexOf("_"))&&(c=c.slice(0,a));var s=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=c),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n),e.addEventListener("focus",n),e.addEventListener("blur",n)}(e)})),r.forEach((function(e){e.classList.contains("promo-code")||p(e)})),o.forEach((function(e){w(e)}))}))}]);